// ■ 設定: カテゴリIDと表示名のリスト
const categoryList = {
  08: "演習 08 (アクチュエータ)",
  09: "演習 09 (通信)",
  10: "演習 10 (電源)",
  11: "演習 11 (計測機器・センサ)",
  12: "演習 12 (インターフェース回路)",
  13: "演習 13 (回路図・実装)",
};

// ■ データ: 問題リスト
const quizData = [
  // --- 演習 08 (アクチュエータ) ---
  {
    id: "08-1-a",
    cat: "08",
    q: "DCモータの回転速度を制御するために最も一般的に使用される方法はどれか。",
    opts: [
      "電流の大きさを変える",
      "電圧の大きさを変える",
      "コイルの巻数を変える",
      "磁石の強さを変える",
    ],
    ans: 1,
  },
  {
    id: "08-1-b",
    cat: "08",
    q: "H ブリッジ回路の主な目的は何か。",
    opts: [
      "電圧を増幅する",
      "電流を制限する",
      "モータの回転方向を制御する",
      "ノイズを除去する",
    ],
    ans: 2,
  },
  {
    id: "08-1-c",
    cat: "08",
    q: "PWM信号におけるデューティ比とは何を表すか。",
    opts: [
      "信号の周波数",
      "信号の最大電圧",
      "一周期中のON時間の割合",
      "信号の波形の形状",
    ],
    ans: 2,
  },
  {
    id: "08-1-d",
    cat: "08",
    q: "ステッピングモータの最大の特徴は何か。",
    opts: [
      "フィードバックセンサが必要",
      "パルス数で正確な角度制御ができる",
      "高速回転に特化している",
      "連続回転のみ可能",
    ],
    ans: 1,
  },
  {
    id: "08-1-e",
    cat: "08",
    q: "一般的なサーボモータをマイコンで制御する場合、角度を指定するために使用する信号はどれか。",
    opts: [
      "PWM信号のパルス幅",
      "送信するパルス数",
      "PWM信号の周波数",
      "印加する電圧の大きさ",
    ],
    ans: 0,
  },
  {
    id: "08-1-f",
    cat: "08",
    q: "ソレノイドの駆動回路で、コイルと並列に接続するフリーホイールダイオードの目的は何か。",
    opts: [
      "電流を増幅する",
      "サージ電圧から回路を保護する",
      "動作速度を向上させる",
      "消費電力を削減する",
    ],
    ans: 1,
  },
  {
    id: "08-1-g",
    cat: "08",
    q: "モータドライバICを使用する最大のメリットは何か。",
    opts: [
      "モータの回転速度が上がる",
      "電力消費が削減される",
      "回路設計が簡単になり保護機能が付く",
      "モータの寿命が延びる",
    ],
    ans: 2,
  },
  {
    id: "08-1-h",
    cat: "08",
    q: "PWM による電圧制御で、デューティ比が50%の時の出力電圧は、電源電圧5Vの場合いくらか。",
    opts: ["2.5V", "5V", "1.25V", "10V"],
    ans: 0,
  },
  {
    id: "08-1-i",
    cat: "08",
    q: "DCモータで大きなトルクを得るために一般的に使用される方法は何か。",
    opts: [
      "回転速度を上げる",
      "ギア(歯車)を使用する",
      "コイルの材質を変える",
      "磁石を大きくする",
    ],
    ans: 1,
  },

  // --- 演習 09 (通信) ---
  {
    id: "09-1-a",
    cat: "09",
    q: "電子工作でセンサから情報を取得する際、デジタル信号とアナログ信号のどちらを選ぶかを判断する最も重要な観点はどれか。",
    opts: [
      "デジタル信号の方が高性能であること",
      "取得したい情報の性質と必要な精度",
      "アナログ信号の方が処理が簡単であること",
      "見た目がかっこいい方を選ぶ",
    ],
    ans: 1,
  },
  {
    id: "09-1-b",
    cat: "09",
    q: "複数の様々な種類のセンサを1つのマイコンに接続する際の重要な設計方針はどれか。",
    opts: [
      "すべて同じ通信方式で統一する",
      "各センサの通信要件とマイコンの利用可能なピン数を考慮する",
      "可能な限り低速な通信方式を選ぶ",
      "可能な限り配線が多い方式を選ぶ",
    ],
    ans: 1,
  },
  {
    id: "09-1-c",
    cat: "09",
    q: "電子工作において「情報伝達の信頼性」を高めるための最も基本的な考え方はどれか。",
    opts: [
      "配線の接続を確実に行い、電源を安定供給する",
      "通信速度を上げる",
      "より多くの信号線を使用する",
      "部品の色を統一する",
    ],
    ans: 0,
  },
  {
    id: "09-1-d",
    cat: "09",
    q: "複数の様々な種類のセンサから同時にデータを取得する際、データの読み取りタイミングで最も注意すべき点はどれか。",
    opts: [
      "すべてのセンサを全く同じタイミングで読み取る",
      "最も高速なセンサに合わせて読み取り間隔を設定する",
      "データの読み取り順序をアルファベット順にする",
      "各センサの応答時間の違いを考慮してデータ取得のタイミングを調整する",
    ],
    ans: 3,
  },
  {
    id: "09-1-e",
    cat: "09",
    q: "有線通信と無線通信を選択する際、最も重要な判断基準はどれか。",
    opts: [
      "システムの用途と設置環境の制約",
      "無線通信の方が先進的である",
      "有線通信の方が安価である",
      "通信速度の比較のみ",
    ],
    ans: 0,
  },
  {
    id: "09-1-f",
    cat: "09",
    q: "Arduino UNO からPCにデバッグ情報を送信し、シリアルモニタで確認したい場合に最も適した通信方式はどれか。",
    opts: ["UART 通信", "SPI通信", "I2C通信", "パラレル通信"],
    ans: 0,
  },
  {
    id: "09-1-g",
    cat: "09",
    q: "2本の信号線のみで全てのセンサからデジタルデータを取得したい場合に最も適した通信方式はどれか。",
    opts: ["UART 通信", "SPI通信", "I2C通信", "パラレル通信"],
    ans: 2,
  },
  {
    id: "09-1-h",
    cat: "09",
    q: "SDカードへの高速書き込みや液晶への描画など、大量のデータを高速転送する必要がある場合に最も適した通信方式はどれか。",
    opts: ["UART 通信", "SPI通信", "I2C通信", "赤外線通信"],
    ans: 1,
  },

  // --- 演習 10 (電源) ---
  {
    id: "10-1-a",
    cat: "10",
    q: "単三(AA, LR6) アルカリ乾電池の公称電圧として正しいのはどれか。",
    opts: ["1.5V", "1.2V", "3.7V", "5.0V"],
    ans: 0,
  },
  {
    id: "10-1-b",
    cat: "10",
    q: "DCDCコンバータの主な機能はどれか。",
    opts: [
      "直流を交流に変換する",
      "直流を直流に変換する",
      "交流を直流に変換する",
      "交流を交流に変換する",
    ],
    ans: 1,
  },
  {
    id: "10-1-c",
    cat: "10",
    q: "スイッチング方式電源の特徴として正しいのはどれか。",
    opts: [
      "回路がシンプルで大きくて重い",
      "回路が複雑で大きくて重い",
      "回路がシンプルで小さくて軽い",
      "回路が複雑で小さくて軽い",
    ],
    ans: 3,
  },
  {
    id: "10-1-d",
    cat: "10",
    q: "リニア方式 (ドロッパー方式) 電源の特徴として正しいのはどれか。",
    opts: [
      "回路はシンプルであるが、大きくて重い",
      "回路は複雑であるが、小さくて軽い",
      "回路はシンプルで、小さくて軽い",
      "回路は複雑で、大きくて重い",
    ],
    ans: 0,
  },
  {
    id: "10-1-e",
    cat: "10",
    q: "リニア電源のノイズ特性と発熱特性の組み合わせとして正しいのはどれか。",
    opts: [
      "ノイズが多く、発熱が多い",
      "ノイズが多く、発熱が少ない",
      "ノイズが少なく、発熱が多い",
      "ノイズが少なく、発熱が少ない",
    ],
    ans: 2,
  },
  {
    id: "10-1-f",
    cat: "10",
    q: "スイッチング電源のノイズ特性と発熱特性の組み合わせとして正しいのはどれか。",
    opts: [
      "ノイズが多く、発熱が多い",
      "ノイズが多く、発熱が少ない",
      "ノイズが少なく、発熱が多い",
      "ノイズが少なく、発熱が少ない",
    ],
    ans: 1,
  },
  {
    id: "10-1-g",
    cat: "10",
    q: "容量4000mAhの電池を2Aの電流で使用した場合の理論使用時間はどれか。",
    opts: ["2時間", "4時間", "8時間", "16時間"],
    ans: 0,
  },
  {
    id: "10-1-h",
    cat: "10",
    q: "直流安定化電源の正しい使用手順はどれか。",
    opts: [
      "回路接続→出力ボタン ON→出力設定",
      "出力ボタンON→出力設定→回路接続",
      "出力ボタンON→回路接続→出力設定",
      "出力設定→回路接続→出力ボタン ON",
    ],
    ans: 3,
  },
  {
    id: "10-1-i",
    cat: "10",
    q: "バッテリーのSOC (States of Charge) 50%の状態の説明として正しいのはどれか。",
    opts: [
      "電池容量の50%が劣化している",
      "電池容量の50%まで充電されている",
      "電池の充電速度が50%に低下している",
      "電池の出力電圧が50%低下している",
    ],
    ans: 1,
  },
  {
    id: "10-1-j",
    cat: "10",
    q: "バッテリーのSOH (States of Health)が低下した場合に起こる現象として正しいのはどれか。",
    opts: [
      "充電効率が向上する",
      "電池電圧が上昇する",
      "使用可能時間が短くなる",
      "充電容量が増加する",
    ],
    ans: 2,
  },

  // --- 演習 11 (計測機器・センサ) ---
  {
    id: "11-1-a",
    cat: "11",
    q: "デジタルマルチメータ (DMM) の基本的な測定機能として含まれないものはどれか。",
    opts: ["直流電圧", "直流電流", "抵抗値", "交流波形の観測"],
    ans: 3,
  },
  {
    id: "11-1-b",
    cat: "11",
    q: "オシロスコープがデジタルマルチメータ (DMM) と比べて優れている点はどれか。",
    opts: [
      "抵抗値の測定機能",
      "小型化と携帯性",
      "電気信号の時間変化の観測",
      "直流電圧の測定精度",
    ],
    ans: 2,
  },
  {
    id: "11-1-c",
    cat: "11",
    q: "真値が1000, 測定値が1050の場合、絶対誤差はいくらか。",
    opts: ["50", "-50", "5%", "1050"],
    ans: 0,
  },
  {
    id: "11-1-d",
    cat: "11",
    q: "真値が200, 測定値が180の場合、相対誤差は何%か。",
    opts: ["15%", "20%", "5%", "10%"],
    ans: 3,
  },
  {
    id: "11-1-e",
    cat: "11",
    q: "センサ信号の一般的な処理フローとして正しい順序はどれか。",
    opts: [
      "センサ素子→アンプ→A-D変換→マイコン",
      "アンプ→センサ素子→A-D変換→マイコン",
      "センサ素子→A-D変換→アンプ→マイコン",
      "A-D変換→センサ素子→アンプ→マイコン",
    ],
    ans: 0,
  },
  {
    id: "11-1-f",
    cat: "11",
    q: "超音波センサで距離L [m]を測定する式として正しいものはどれか。(V:速さ, T:往復時間)",
    opts: ["L=V/(2T)", "L=2VT", "L=VT/2", "L=VT"],
    ans: 2,
  },
  {
    id: "11-1-g",
    cat: "11",
    q: "ドローンの姿勢制御に必要なセンサの組み合わせとして最も適切なものはどれか。",
    opts: [
      "温度センサ+湿度センサ",
      "加速度センサ+温度センサ",
      "加速度センサ+ジャイロセンサ",
      "ジャイロセンサ+照度センサ",
    ],
    ans: 2,
  },
  {
    id: "11-1-h",
    cat: "11",
    q: "スマートフォンの画面を自動回転させる機能に主に使われるセンサはどれか。",
    opts: ["ひずみゲージ", "磁気センサ", "ジャイロセンサ", "加速度センサ"],
    ans: 3,
  },
  {
    id: "11-1-i",
    cat: "11",
    q: "CdS セルは明るいときに抵抗が小さく、暗いときに大きくなる。暗いときにLEDを点灯させる回路として正しいものはどれか。",
    opts: [
      "抵抗が大きいときLED点灯",
      "温度が上昇したときLED点灯",
      "抵抗が小さいときLED点灯",
      "CdS セルの色が変化したときLED点灯",
    ],
    ans: 0,
  },
  {
    id: "11-1-j",
    cat: "11",
    q: "イメージセンサを用いたライン追従ロボットで、黒い線を検出する正しい利用方法はどれか。",
    opts: [
      "全画素の平均輝度から判定する",
      "1画素の明るさだけで判定する",
      "距離センサとして使用する",
      "画像を処理して線の位置を検出する",
    ],
    ans: 3,
  },

  // --- 演習 12 (インターフェース回路) ---
  {
    id: "12-1-a",
    cat: "12",
    q: "スイッチがOFFの時、プルアップ抵抗を使用した回路の INPUT 端子の状態はどれか。",
    opts: [
      "INPUT 端子の電圧は不安定になる",
      "INPUT端子の電圧はVCCと同じになる",
      "INPUT端子の電圧はOV (GND)になる",
      "INPUT端子の電圧はVCC/2になる",
    ],
    ans: 1,
  },
  {
    id: "12-1-b",
    cat: "12",
    q: "反転増幅回路(R1=2k, R2=10k, Vin=1V)の出力電圧はいくらか。※公式: Vout=-(R2/R1)*Vin",
    opts: ["0.2V", "5V", "-0.2V", "-5V"],
    ans: 3,
  },
  {
    id: "12-1-c",
    cat: "12",
    q: "非反転増幅回路(R1=3k, R2=9k, Vin=2V)の出力電圧はいくらか。※公式: Vout=(1+R2/R1)*Vin",
    opts: ["-8V", "-6V", "8V", "6V"],
    ans: 2,
  },
  {
    id: "12-1-d",
    cat: "12",
    q: "ローパスフィルタ(R=1kΩ, C=0.1μF)の遮断周波数はどれか。※公式: f=1/(2πRC)",
    opts: ["約1.6kHz", "約160Hz", "約16Hz", "約16kHz"],
    ans: 0,
  },
  {
    id: "12-1-e",
    cat: "12",
    q: "ハイパスフィルタで遮断周波数100Hz、C=1μFのとき、必要な抵抗Rは約いくつか。",
    opts: ["約160Ω", "約1.6kΩ", "約16kΩ", "約160kΩ"],
    ans: 1,
  },
  {
    id: "12-1-f",
    cat: "12",
    q: "差動増幅回路(R1=5k, R2=15k, V1=1V, V2=2V)の出力電圧はいくらか。※公式: Vout=(R2/R1)*(V2-V1)",
    opts: ["-9V", "-3V", "9V", "3V"],
    ans: 3,
  },
  {
    id: "12-1-g",
    cat: "12",
    q: "電圧加算回路(R1=4k, R2=12k, V1=0.5V, V2=1V)の出力電圧はいくらか。※公式: Vout=-(R2/R1)*(V1+V2)",
    opts: ["-4.5V", "4.5V", "1.5V", "-1.5V"],
    ans: 0,
  },

  // --- 演習 13 (回路図・実装) ---
  {
    id: "13-1-a",
    cat: "13",
    q: "回路図で十字交差している線が接続されていることを明確に示すために使用される記号は何か。",
    opts: ["△印", "●印", "□印", "×印"],
    ans: 1,
  },
  {
    id: "13-1-b",
    cat: "13",
    q: "回路図でVCCやGNDなどの電源記号が使われる理由として最も適切なものはどれか。",
    opts: [
      "配線を簡潔にし、回路図を見やすくするため",
      "部品の消費電力を表示するため",
      "電流の向きを示すため",
      "抵抗値を計算するため",
    ],
    ans: 0,
  },
  {
    id: "13-1-c",
    cat: "13",
    q: "ブレッドボードの説明として正しいものはどれか。",
    opts: [
      "はんだ付けが必要で、永続的な回路を作れる",
      "ブリント基板と同じ構造を持つ",
      "部品を差し込むだけで、はんだ付けなしに回路を組める",
      "コネクタ専用の基板である",
    ],
    ans: 2,
  },
  {
    id: "13-1-d",
    cat: "13",
    q: "正しいはんだ付けの手順はどれか。",
    opts: [
      "はんだを溶かす→こてを当てる→こてを離す→はんだを離す",
      "こてを当てる→はんだを溶かす→こてを離す→はんだを離す",
      "はんだを溶かす→こてを離す→こてを当てる→はんだを離す",
      "こてを当てる→はんだを溶かす→はんだを離す→こてを離す",
    ],
    ans: 3,
  },
  {
    id: "13-1-e",
    cat: "13",
    q: "ユニバーサル基板の説明として正しいものはどれか。",
    opts: [
      "既に配線が完成されており、部品を置くだけで使用できる",
      "部品取り付け用の穴とランドがあり、はんだ付けで配線する",
      "ブレッドボードと同じ使い方をする基板",
      "コネクタ専用の基板",
    ],
    ans: 1,
  },
  {
    id: "13-1-f",
    cat: "13",
    q: "コネクタの基本構成要素に含まれないものはどれか。",
    opts: ["コンタクト", "ハウジング", "ベース付きポスト", "はんだ"],
    ans: 3,
  },
  {
    id: "13-1-g",
    cat: "13",
    q: "ロボット製作等でブレッドボードよりユニバーサル基板等が推奨される理由はどれか。",
    opts: [
      "ブレッドボードの方が高価だから",
      "ブレッドボードは部品が外れやすく、動作が不安定になりやすいから",
      "ブレッドボードの穴の数が足りないから",
      "ブレッドボードの見た目が良くないから",
    ],
    ans: 1,
  },
  {
    id: "13-1-h",
    cat: "13",
    q: "PCBを使う場合の注意点として最も適切なものはどれか。",
    opts: [
      "配線が固定されているため、回路の変更が容易ではない",
      "部品を差し替えれば簡単に回路を変更できる",
      "部品は極性を無視して取り付けられる",
      "PCBは必ずはんだ付け不要で動作する",
    ],
    ans: 0,
  },
];
