// ■ 設定: カテゴリIDと表示名のリスト
// ここを増減させると、アプリのプルダウンメニューが自動で変わります
const categoryList = {
    "01": "演習 01 (安全・基本)",
    "02": "演習 02 (オーム・電力)",
    "03": "演習 03 (LED・ダイオード)",
    "04": "演習 04 (システム設計)",
    "05": "演習 05 (論理・リレー)",
    "06": "演習 06 (マイコン)",
    "07": "演習 07 (回路製作)"
    // 例: "his01": "日本史 (鎌倉時代)"  ←このように自由に追加可能
};

// ■ データ: 問題リスト
// id, cat, q, opts, ans を守れば何を書いてもOK
const quizData = [
    { id: "01-1-a", cat: "01", q: "電子工作中に異臭を感じた場合,最初に取るべき行動はどれか。", opts: ["換気扇を回す", "電源を切る", "水をかける", "そのまま作業を続ける"], ans: 1 },
    { id: "01-1-b", cat: "01", q: "LED を点灯させるのに必要な電流値(15 mA)は,人体に流れるとどのような影響を与えるか。", opts: ["感じる程度", "相応の痛みを感じる", "痙攣,動けない", "致命的"], ans: 2 },
    { id: "01-1-c", cat: "01", q: "感電による人体への影響を決める最も重要な要因はどれか。", opts: ["電流値", "電圧値", "交流か直流かどうか", "周波数"], ans: 0 },
    { id: "01-1-d", cat: "01", q: "電子回路で発火の予兆として適切なものはどれか。", opts: ["正常な動作音", "一定の温度", "通常の電圧値", "異臭や発煙"], ans: 3 },
    { id: "01-1-e", cat: "01", q: "コンデンサが爆発する原因として正しいものはどれか。", opts: ["正しい向きで接続した場合", "適正電圧で使用した場合", "逆電圧や過電圧を印加した場合", "室温で使用した場合"], ans: 2 },
    { id: "01-2-a", cat: "01", q: "乾電池やリチウムイオンバッテリーが出力する電気の種類はどれか。", opts: ["直流(DC)", "交流(AC)", "パルス波", "三角波"], ans: 0 },
    { id: "01-2-b", cat: "01", q: "日本の家庭用電源の特徴として正しいものはどれか。", opts: ["DC100V", "AC250V", "DC250V", "AC100V"], ans: 3 },
    { id: "01-2-c", cat: "01", q: "デジタル信号の説明として最も適切なものはどれか。", opts: ["中間の値が存在する連続的な信号", "「0/1」など 2 値の離散的な信号", "正弦波の信号", "ランダムな値をとる信号"], ans: 1 },
    { id: "01-2-d", cat: "01", q: "IoT デバイスの説明として正しいものはどれか。", opts: ["電気を使わないデバイス", "ネットワークに接続できないデバイス", "ネットワークに接続し機器間で通信可能なデバイス", "アナログ信号のみを扱うデバイス"], ans: 2 },
    { id: "01-2-e", cat: "01", q: "アナログ信号が主に使用される用途として最も適切なものはどれか。", opts: ["論理演算", "デジタル通信", "センサやモータの駆動", "メモリ保存"], ans: 2 },
    { id: "02-1-a", cat: "02", q: "1.5Vの乾電池の両端に抵抗330Ωを接続した場合、流れる電流は?", opts: ["約4.5mA", "約5.5mA", "約6.5mA", "約7.5mA"], ans: 0 },
    { id: "02-1-b", cat: "02", q: "電圧5Vの直流電源に抵抗を直列接続して、10mAの電流を流したい、必要な抵抗値は?", opts: ["250Ω", "500Ω", "750Ω", "1000Ω"], ans: 1 },
    { id: "02-1-c", cat: "02", q: "抵抗1kΩに5mAの電流が流れている。この抵抗の両端の電圧は?", opts: ["0.5V", "5V", "50V", "500V"], ans: 1 },
    { id: "02-2-a", cat: "02", q: "【図1相当】電源電圧E=9V, 抵抗R1=10kΩ, R2が直列に接続された分圧回路において、出力電圧V0=3Vをつくりたい、必要なR2の抵抗値は?", opts: ["1.5kΩ", "3kΩ", "5kΩ", "15kΩ"], ans: 2 },
    { id: "02-2-b", cat: "02", q: "【図1相当】同回路において、電源電圧E=12Vから出力電圧V0=4Vをつくりたい場合の2つの抵抗の比(R1:R2)は?", opts: ["1:2", "2:1", "1:3", "3:1"], ans: 1 },
    { id: "02-3-a", cat: "02", q: "1.2kΩの抵抗の両端に6Vの電源を接続した場合、抵抗の消費電力は?", opts: ["20mW", "30mW", "40mW", "50mW"], ans: 1 },
    { id: "02-3-b", cat: "02", q: "抵抗Rでの消費電力Pに関して正しいものはどれ?", opts: ["I²Rの方がV²/Rよりも大きくなる", "V²/Rの方がI²Rよりも大きくなる", "I²RとV²/Rで同じ値になる", "抵抗Rの大きさによって変わる"], ans: 2 },
    { id: "02-4-a", cat: "02", q: "220Ωと330Ωの抵抗を直列に接続した場合の合成抵抗は?", opts: ["110Ω", "275Ω", "550Ω", "660Ω"], ans: 2 },
    { id: "02-4-b", cat: "02", q: "1kΩと1kΩの抵抗を並列に接続した場合の合成抵抗は?", opts: ["500Ω", "1kΩ", "1.5kΩ", "2kΩ"], ans: 0 },
    { id: "02-4-c", cat: "02", q: "600Ωと300Ωの抵抗を並列に接続した場合の合成抵抗は?", opts: ["150Ω", "200Ω", "450Ω", "900Ω"], ans: 1 },
    { id: "02-5-a", cat: "02", q: "【図2相当】電源電圧E=12Vに、並列に抵抗R1=600Ω, 抵抗R2=300Ωが接続されているとき、抵抗R2に流れる電流は?", opts: ["20mA", "40mA", "60mA", "80mA"], ans: 1 },
    { id: "02-5-b", cat: "02", q: "60mAの電流を、2kΩと1kΩの並列接続された抵抗で分流させる場合、1kΩの抵抗に流れる電流は?", opts: ["10mA", "20mA", "30mA", "40mA"], ans: 3 },
    { id: "03-1-a", cat: "03", q: "Arduino(5V)で赤色LED(Vf=2.0V, If=20mA)を点灯させる場合の電流制限抵抗Rとして適切な値は?", opts: ["100Ω", "150Ω", "220Ω", "470Ω"], ans: 1 },
    { id: "03-1-b", cat: "03", q: "【図1相当】赤・青・緑の3種類のLEDを同時に点灯させ、明るさを個別に調整するのに最適な接続方法は?", opts: ["抵抗なしで直接接続", "直列に接続し1つの抵抗で制御", "並列に接続しそれぞれに抵抗を付ける", "並列に接続し1つの抵抗で制御"], ans: 2 },
    { id: "03-2-a", cat: "03", q: "一般的なシリコンダイオードの順電圧Vfはどの程度か?", opts: ["0.1~0.2V", "0.6~0.7V", "1.5~2.0V", "3.0~5.0V"], ans: 1 },
    { id: "03-2-b", cat: "03", q: "【図2相当】12V電源に抵抗10kΩとツェナーダイオードが直列に接続され、ツェナー電圧が5Vの場合、ツェナーダイオードの両端の出力電圧Voはいくらか。", opts: ["12V", "7V", "5V", "0V"], ans: 2 },
    { id: "03-2-c", cat: "03", q: "定電圧回路でツェナーダイオードの正しい接続方向は?", opts: ["アノードを高電位側、カソードをGND側", "カソードを高電位側、アノードをGND側", "どちらでも同じ", "交流で使用する"], ans: 1 },
    { id: "03-2-d", cat: "03", q: "LED点灯回路でLEDの正しい接続方向は?", opts: ["アノードを高電位側、カソードをGND側", "カソードを高電位側、アノードをGND側", "どちらでも同じ", "交流で使用する"], ans: 0 },
    { id: "03-3-a", cat: "03", q: "Arduino(最大20mA)で、定格100mAの直流モータを制御する場合、正しい選択肢はどれか?", opts: ["デジタルピンから直接駆動可能", "電圧が不足している", "アナログピンから直接駆動可能", "電流不足のためトランジスタが必要"], ans: 3 },
    { id: "03-3-b", cat: "03", q: "電流増幅率hFE=100のNPNトランジスタでコレクタ電流Ic=100mAを得たいとき、必要なベース電流Ibは?", opts: ["1mA", "0.1mA", "10mA", "100mA"], ans: 0 },
    { id: "03-3-c", cat: "03", q: "【図3相当】Arduino出力(5V)をベース抵抗Rbを介してNPNトランジスタのベースに接続し、エミッタ接地で使用する。必要ベース電流1mA、Vbe=0.7Vのとき、必要なベース抵抗Rbは?", opts: ["2.2kΩ", "5.0kΩ", "4.3kΩ", "7.5kΩ"], ans: 2 },
    { id: "04-1-a", cat: "04", q: "電子工作におけるシステム設計の手順として,最も適切なものはどれか。", opts: ["構成要素の統合→システム全体の設定→構成要素の選定・制作", "システム全体の設定→構成要素の選定・制作→構成要素の統合", "部品の購入→はんだ付け作業→動作テスト", "プログラムの作成→回路図の描画→部品の発注"], ans: 1 },
    { id: "04-1-b", cat: "04", q: "置時計の電源として電池を選択する理由として,最も適切なものはどれか。", opts: ["電池の方が家庭用電源より安全だから", "部屋の中で自由に配置したいから", "電池の方が電圧が安定しているから", "電池の方が消費電力が少ないから"], ans: 1 },
    { id: "04-1-c", cat: "04", q: "水晶発振器(クォーツ)式時計の原理として,最も適切なものはどれか。", opts: ["機械的な振り子の振動を利用して時間を刻む", "電波を受信して正確な時刻を取得する", "水晶の圧電現象を利用して安定した周波数の信号を発生させる", "マイコンの内部クロックを分周して時間を測定する"], ans: 2 },
    { id: "04-1-d", cat: "04", q: "時刻や温度の表示(数値+文字)に適した表示器として,最も適切なものはどれか。", opts: ["7 セグメント LED", "キャラクタ表示の液晶表示器", "単色 LED", "圧電ブザー"], ans: 1 },
    { id: "04-2-a", cat: "04", q: "家庭用電源(AC100V)から直流電源を作るために必要な機能として,最も適切なものはどれか。", opts: ["電圧増幅と周波数変換", "交流-直流変換と電圧変換", "信号増幅とノイズ除去", "デジタル変換とデータ処理"], ans: 1 },
    { id: "04-2-b", cat: "04", q: "直流電源回路において,AC100V から安定した直流出力を得るための回路構成として,最も適切な順序はどれか。", opts: ["電源トランス→シリーズレギュレータ→ブリッジ整流・平滑", "ブリッジ整流・平滑→電源トランス→シリーズレギュレータ", "電源トランス→ブリッジ整流・平滑→シリーズレギュレータ", "シリーズレギュレータ→電源トランス→ブリッジ整流・平滑"], ans: 2 },
    { id: "04-2-c", cat: "04", q: "電源トランスが果たす役割として,最も適切でないものはどれか。", opts: ["電圧変換(AC100V→AC12V)", "一次側と二次側の分離", "交流-直流変換", "電力の伝達"], ans: 2 },
    { id: "04-3-a", cat: "04", q: "電波を受信して音声を出力するシステム(例:ラジオ)において,必要な基本機能として最も適切でないものはどれか。", opts: ["電波を電気信号に変換する機能", "特定の周波数の電波を選択する機能", "電気信号を音波に変換する機能", "電気信号を光信号に変換する機能"], ans: 3 },
    { id: "04-3-b", cat: "04", q: "暗くなったら自動的に LED が点灯する照明システムを設計する場合,必要な構成要素として最も適切でないものはどれか。", opts: ["明るさを検知するセンサ", "LED を点灯させる回路", "センサの信号で LED を制御する回路", "音を検知するマイク"], ans: 3 },
    { id: "04-3-c", cat: "04", q: "室内照明として使用する LED と,機器の状態表示として使用する小さな LED では,必要な電力が大きく異なる.この理由として最も適切なものはどれか。", opts: ["照明用 LED の方が高い電圧で動作するため", "照明用 LED の方が明るく光らせる必要があり,より多くの電流が必要なため", "照明用 LED の方が長時間動作させるため", "照明用 LED の方が複雑な回路で制御するため"], ans: 1 },
    { id: "04-3-d", cat: "04", q: "信号を増幅する回路(アンプ)が必要である.この増幅回路の主な目的として最も適切なものはどれか。", opts: ["音声の周波数を変更する", "音声をデジタル信号に変換する", "音声信号の電力(=電圧×電流)を大きくする", "音声の音質を改善する"], ans: 2 },
    { id: "04-3-e", cat: "04", q: "明るさ検知 LED 照明システムが,明るい場所でも常に LED が点灯し続けるようになった.最も可能性の高い原因はどれか。", opts: ["LED そのものが故障している", "LED に供給する電圧が低すぎる", "明るさを検知するセンサに故障や汚れがある", "制御回路の配線に間違いがある"], ans: 2 },
    { id: "05-1-a", cat: "05", q: "2 つのスイッチ SW1 と SW2 とランプを直列に接続してランプを制御する場合,実現される論理演算はどれか。", opts: ["OR 演算", "AND 演算", "NOT 演算", "XOR 演算"], ans: 1 },
    { id: "05-1-b", cat: "05", q: "機器の緊急停止ボタンに最適なスイッチの接触形式はどれか。", opts: ["b 接点(NC)", "a 接点(NO)", "c 接点", "どれでも同じ"], ans: 0 },
    { id: "05-1-c", cat: "05", q: "ボタンを押している間のみ動作し,離すと停止する動作を何というか。", opts: ["モーメンタリ動作", "オルタネート動作", "シーケンス動作", "ラッチ動作"], ans: 0 },
    { id: "05-1-d", cat: "05", q: "c 接点スイッチが持つ端子の数はどれか。", opts: ["2 個", "3 個", "4 個", "5 個"], ans: 1 },
    { id: "05-1-e", cat: "05", q: "照明の ON/OFF スイッチに適した動作はどれか。", opts: ["モーメンタリ動作", "オルタネート動作", "シーケンス動作", "トリガ動作"], ans: 1 },
    { id: "05-2-a", cat: "05", q: "電磁式リレーが動作する基本原理はどれか。", opts: ["圧電効果", "電磁誘導", "静電気力", "電磁石の吸引力"], ans: 3 },
    { id: "05-2-b", cat: "05", q: "自己保持回路の主な目的はどれか。", opts: ["モーメンタリスイッチでオルタネート動作を実現すること", "電力を節約すること", "回路の安全性を高めること", "動作速度を向上させること"], ans: 0 },
    { id: "05-3-a", cat: "05", q: "マイコンとロジック IC の使い分けとして最も適切なのはどれか。", opts: ["複雑な条件判断はロジック IC,単純な処理はマイコン", "複雑な条件判断はマイコン,単純な論理演算はロジック IC", "どちらも常にマイコンを使うべき", "どちらも常にロジック IC を使うべき"], ans: 1 },
    { id: "05-3-b", cat: "05", q: "CMOS タイプの IC で絶対に避けなければならない接続方法はどれか。", opts: ["電源電圧を 5V にすること", "出力端子を複数接続すること", "グランドに接続すること", "入力端子をオープン(何も接続しない)にすること"], ans: 3 },
    { id: "06-1-a", cat: "06", q: "マイコンの基本構成要素として正しい組み合わせはどれか。", opts: ["CPU,メモリ,I/O", "CPU,ディスプレイ,スピーカ", "メモリ,キーボード,マウス", "I/O,プリンタ,カメラ"], ans: 0 },
    { id: "06-1-b", cat: "06", q: "機構だけの機械と比較したマイコンの最大の利点はどれか。", opts: ["製造コストが安い", "プログラムによって運動を任意に制御できる", "消費電力が少ない", "故障しにくい"], ans: 1 },
    { id: "06-1-c", cat: "06", q: "Arduino の特徴として適切でないものはどれか。", opts: ["オープンソースプラットフォーム", "学生向けのツールとして開発された", "AVR マイコンを使用している", "高価で専門的な知識が必要"], ans: 3 },
    { id: "06-1-d", cat: "06", q: "Raspberry Pi の特徴として正しいものはどれか。", opts: ["OS は不要で直接プログラムを実行する", "Linux 系 OS を使用する", "I/O ポートは搭載されていない", "MicroSD カードは使用できない"], ans: 1 },
    { id: "06-1-e", cat: "06", q: "マイコンの使用上の注意として最も重要なものはどれか。", opts: ["プログラムは必ず C 言語で書く", "インターネットに接続してはいけない", "直接駆動できる電圧・電流に制限がある", "必ず冷却ファンを取り付ける"], ans: 2 },
    { id: "06-1-f", cat: "06", q: "マイコンが活用されている分野として適切でないものはどれか。", opts: ["家電製品", "自動車", "産業機械", "手動工具"], ans: 3 },
    { id: "06-1-g", cat: "06", q: "マイコンに用いられるプログラミング言語の分類として正しいものはどれか。", opts: ["高級言語と低級言語がある", "高級言語のみ使用可能", "低級言語のみ使用可能", "特別なマイコン専用言語のみ"], ans: 0 },
    { id: "06-1-h", cat: "06", q: "マイコンの信号電圧が既存システムと異なる場合の対処法として適切なものはどれか。", opts: ["無視して直接接続する", "インターフェース回路で信号変換する", "システム全体を作り直す", "マイコンの使用を諦める"], ans: 1 },
    { id: "06-1-i", cat: "06", q: "画像処理を行うシステムでマイコンを選択する場合,最も重要な性能要素はどれか。", opts: ["ピン数の多さ", "処理速度とメモリ容量", "省電力性能", "小型サイズ"], ans: 1 },
    { id: "06-1-j", cat: "06", q: "複数のセンサからデータを同時に取得するシステムでマイコンを使用する場合,重要な機能はどれか。", opts: ["高解像度ディスプレイ出力", "豊富なアナログ入力ピン", "大容量の外部ストレージ", "高音質オーディオ出力"], ans: 1 },
    { id: "07-1-a", cat: "07", q: "電気電子回路製作の流れで,最初に行う作業はどれか。", opts: ["部品選定", "回路図製作", "動作検証(ブレッドボード)", "配線設計"], ans: 1 },
    { id: "07-1-b", cat: "07", q: "電気電子回路製作において,ブレッドボードを使用する主な目的はどれか。", opts: ["最終的な製品として使用", "動作検証と試作", "大量生産への対応", "部品の長期保存"], ans: 1 },
    { id: "07-1-c", cat: "07", q: "回路設計ソフトウェアを使用する主な利点として適切でないものはどれか。", opts: ["手書きよりも正確な図面作成", "部品ライブラリの活用", "電子部品の製造", "設計データの再利用"], ans: 2 },
    { id: "07-1-d", cat: "07", q: "プリント基板において,部品同士を電気的に接続する導体パターンの主な利点はどれか。", opts: ["配線作業が不要", "部品交換が容易", "回路の動作が高速", "設計時間が短縮される"], ans: 0 },
    { id: "07-1-e", cat: "07", q: "論理回路シミュレータの主な用途として適切でないものはどれか。", opts: ["論理回路の動作確認", "真理値表の検証", "アナログ信号の波形解析", "組み合わせ回路の設計検証"], ans: 2 },
    { id: "07-1-f", cat: "07", q: "回路シミュレーションの主な目的はどれか。", opts: ["部品の購入リスト作成", "回路動作の事前検証", "回路図の印刷レイアウト調整", "部品の在庫管理"], ans: 1 },
    { id: "07-1-g", cat: "07", q: "ユニバーサル基板の特徴として正しいものはどれか。", opts: ["穴が規則的に配置されている", "導体パターンが印刷されている", "大量生産に最適化されている", "配線作業が不要である"], ans: 0 },
    { id: "07-1-h", cat: "07", q: "回路設計ソフトウェアの 3D ビューアー機能の主な用途はどれか。", opts: ["回路の電気的特性確認", "外観や実装状態の確認", "製作コストの計算", "回路動作のシミュレーション"], ans: 1 },
    { id: "07-1-i", cat: "07", q: "電気電子回路製作において,基板実装後に必ず行うべき作業はどれか。", opts: ["部品の追加発注", "回路図の修正", "配線パターンの変更", "動作検証"], ans: 3 }
];